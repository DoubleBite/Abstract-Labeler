<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TaleTell</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.js"></script>
</head>

<body>
    <header>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-2" id="logo">
                    <!-- FIXME: 置中logo -->
                    <img src="../image/logo.png" width="180px" height="50px" alt="">
                </div>
                <div class="col-sm-8">

                </div>
                <div class="col-sm-1" id="sign-in">
                    <!-- FIXME: 無法垂直置中 -->
                    <button type="button" class="btn btn-outline-light" id="sign-in-btn" style="background-color:red;">登入</button>
                </div>
                <div class="col-sm-1" id="sign-out">
                    <!-- FIXME: 無法垂直置中 -->
                    <button type="button" class="btn btn-outline-light" id="sign-out-btn" style="background-color:red;display:none">登出</button>
                </div>

            </div>
        </div>
    </header>
    <section id="home">
        <div class="container-fluid">
            <div class="row justify-content-md-center">
                <!-- <div class="col align-self-start">
                    One of three columns
                </div> -->
                <div class="col align-self-center" id="topic">
                    TALE TELL滿足你說話、分享的慾望
                    <br>TALE TELL讓你聽見各式各樣的故事，得到同理
                    <br>讓我們一起在冷漠的城市裡，重新開始說話吧！
                    <br>
                    <div class="col-sm-12" id="join">
                        <button type="button" class="btn btn-outline-light">
                            <a href="../test/index.html" id="join-word">測測看你的寂寞指數</a>
                        </button>
                    </div>
                </div>
                <!-- <div class="col align-self-end">
                    One of three columns
                </div> -->
            </div>
        </div>
        <!-- <div class="container-fluid" id="home">
            <div class="row justify-content-md-center">
                <div class="col-sm-2">
                    1 of 3
                </div>
                <div class="col-md-auto">
                    Variable width content
                </div>
                <div class="col-sm-2">
                    3 of 3
                </div>
            </div>
        </div> -->
        <!-- FIXME: 如何放在頁底 -->



    </section>
    <footer class="home-bottom">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-12">
                    <!-- 垂直置中 偽div -->
                    <div id="fake"></div>
                    <div class="col-sm-3"></div>
                    <div class="col-sm-6" id="search">搜尋</div>
                    <div class="col-sm-3"></div>
                </div>
                <div class="col-sm-12">
                    <div id="fake"></div>
                    <div class="home-footer">
                        <a href="../play/index.html" id="entera">
                            <button type="button" class="btn btn-secondary btn-lg btn-block" id="enter">
                                進入逛逛
                            </button>
                        </a>
                    </div>
                </div>
                <div class="col-sm-12">
                    <div id="fake"></div>
                    <div class="home-footer" id="copyright">Copyright © 2018 HORIZON Inc. All rights reserved.</div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCTmf2JbkW6ut5gUzJfhPiW2eJOEw2Bx5Q",
            authDomain: "taletell-e98c5.firebaseapp.com",
            databaseURL: "https://taletell-e98c5.firebaseio.com",
            projectId: "taletell-e98c5",
            storageBucket: "taletell-e98c5.appspot.com",
            messagingSenderId: "215682943138"
        };
        firebase.initializeApp(config);



        var provider = new firebase.auth.GoogleAuthProvider();
        $("#sign-in-btn").click(function () {
            console.log("Click Sucess");

            firebase.auth().signInWithPopup(provider).then(function (result) {
                // This gives you a Google Access Token. You can use it to access the Google API.
                var token = result.credential.accessToken;
                // The signed-in user info.
                var user = result.user;
                console.log(user);
                // ...
                console.log("Sign in Sucess");
            }).catch(function (error) {
                // Handle Errors here.
                var errorCode = error.code;
                var errorMessage = error.message;
                // The email of the user's account used.
                var email = error.email;
                // The firebase.auth.AuthCredential type that was used.
                var credential = error.credential;
                // ...
            });
        });
        $("#sign-out-btn").click(function () {
            firebase.auth().signOut().then(function () {
                // Sign-out successful
                console.log("Sign out success");
            }).catch(function (error) {
                // An error happened.
                console.log("Sign out error");

            });
        })

        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                $("#sign-in-btn").hide();
                $("#sign-out-btn").show();
                console.log(user + "signin");
                // User is signed in.
            } else {
                $("#sign-out-btn").hide();
                $("#sign-in-btn").show();
                console.log(user + "signout");

                // No user is signed in.
            }
        });
    </script>



</body>

</html>